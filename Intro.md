# 1. 소개
로그라이크 류 탄막 슈터.

# 2. 조작키
아이작과 동일하며 WASD로 캐릭터를 조작하고, 마우스가 위치한 곳으로 탄막을 발사한다.

- Command 패턴으로 조작키를 변경할 수 있게 한다.

# 3. 시스템

## 3.1. 오브젝트 풀링 시스템 구현

- 그래픽과 위치를 수정할 수 있어야 한다.
- 최대 20개를 넘지 않아야 한다.

## 3.2. 인벤토리

- 빈 칸 표시
- 아이템의 아이콘
- 아이템 갯수 표시
- 아이템 터치 시 하이라이트 효과

## 3.3. 타일맵과 레이어

## 3.4. 저장과 로드

- JSON으로 저장할 것
- Firebase를 이용한 클라우드 세이브 시스템 구현.
- 인터넷이 연결되어있지 않으면 로컬에 저장할 것.

## 3.5. 광고 구현 [없어도 됨]

- 유니티와 안드로이드 네이티브 앱 간의 JNI 통신으로 확장 구현.

## 3.6. 인앱 결제 시스템 [없어도 됨]

- 유니티와 안드로이드 네이티브 앱 간의 JNI 통신으로 확장 구현.

## 3.7. 오브젝트 풀링 시스템 구현 [반드시 필요]

- 오브젝트 풀링 필요.
    + 몬스터는 최대 10마리
    + 몬스터가 죽으면 5초 후에 리셋되며 다시 소환됨

## 3.8. 클리어

- 스테이지 별로 제한된 시간 안에 탈출해야 한다.
    + 스테이지 1 : 40초
    + 스테이지 2 : 30초 + 타임 증가 아이템
    + 스테이지 3 : 10초 + 타임 증가 아이템

- 빛이 나는 깃털 조각을 모두 모으면 탈출할 수 있다.
    + 몬스터 또는 보물 상자에서 획득할 수 있다.

- 각 스테이지에는 보스 몬스터가 있다.


### 3.8.1. 몬스터 데이터 처리

- 데이터 구조는 다음과 같아야 한다.

```jsonc
// https://github.com/github/linguist/blob/master/lib/linguist/languages.yml
{
    "Stage" : 1,
    "NumberOfMonsters" : [6, 10], // 6에서 10램덤
    "Monsters" : [
        {
            "Name" : "고블린",
            "Id": 1,
            "Params" : [
                0, 0, 0, 0, 0 // HP, MP, 공격력, 방어력, 민첩력
            ],
            "RegenTime": 30,
            "Position": [0, 0], // 벡터
            "DeathEffect": 0, // 0 : 시체가 보여지면서 사라짐, 1 : 이펙트 후 사라짐
            "Image": "Goblin",
            "Items": [
                {
                    "Name" : "체력 포션",
                    "Percentage" : 0.6, // 60% 확률로 획득!
                }
            ],
        },
        {
            "Name" : "거대 바퀴벌레",
            "Id": 2,
            "Params" : [
                0, 0, 0, 0, 0
            ],
            "RegenTime": 30,
            "Position": [0, 0],
            "DeathEffect": 0,
            "Image": "Cockroach",
            "Items": [
                {
                    "Name" : "체력 포션",
                    "Percentage" : 0.2, // 60% 확률로 획득!
                }
            ]
        },
    ]
}
```

- 맵 데이터 작성기는 C# Winform 또는 QT 5로 작성되며 JSON으로 내보낼 수 있다.
    + 데이터는 GridView 또는 ListView로 관리할 수 있다.
    + 간단하게 작성하고자 한다면 Winform, 조금 멋을 내고 싶다면 QT 5

- 데이터 파일의 이름은 ```state[x]_monsters.json```으로 결정한다.

## 3.9. 오브젝트

- 몬스터는 일정 확률로 아이템을 떨군다.
    + 빛이 나는 깃털 조각
    + 타임 아이템
    + 골드

- 보물 상자는 램덤한 위치에 설정된다.
    + 골드 또는 스킬을 얻을 수 있다.

- 보스 몬스터

## 3.10. 상점 시스템

- 왼쪽에 물건이 표시되고 오른쪽에 인벤토리와 골드가 표시된다.
- 체력 및 마나 회복 포션 그리고 ```Fire```나 ```얼음``` 같은 마법 스크롤을 판매한다

## 3.11. 이펙트

- 이펙트는 <a href="https://effekseer.github.io/en/">effekseer</a>같은 3D 파티클 시스템으로 구현한다.

# 4. UI

- 폰트
    + 나눔 고딕

- 오른쪽 상단에 스코어 표시
    + 천의 자리까지 표시
    + 글자 크기는 28 pt
    + 글자 색상 하얀색 
    + 글자 테두리 갈색

- 게임 패드
    + 왼쪽 하단

- 스킬창
    + 버튼 3개
    + 오른쪽 하단

- 중앙에 남은 시간 표시, 시간이 10초 미만이면 텍스트가 빨간색으로 변한다

- 골드를 먹으면 남은 시간이 증가했다면서 상단으로 부드럽게 올라감

- 보물 상자

- 몬스터의 체력은 중앙에 크게 표시된다.
